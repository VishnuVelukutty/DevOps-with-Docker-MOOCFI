FROM golang:alpine3.13 AS build
WORKDIR /backend
COPY example-backend/ .
RUN go build
FROM alpine:latest  
WORKDIR /root/
COPY --from=build ./backend/server ./server
EXPOSE 8080
RUN addgroup -S appgroup && adduser -S appuser -G appgroup
RUN chown appuser .
USER appuser
CMD ["./server"]  
